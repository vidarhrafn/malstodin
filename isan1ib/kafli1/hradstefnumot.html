<!DOCTYPE html>
<html lang="is">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üí¨ Speed Dating - Kynning</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(to bottom, #fef3f3 0%, #fee5e5 100%);
      min-height: 100vh;
      margin: 0;
      padding: 0;
    }
    
    .person-card {
      transition: all 0.3s;
      animation: slideIn 0.5s ease-out;
    }
    
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .chat-bubble {
      animation: bubbleIn 0.3s ease-out;
    }
    
    @keyframes bubbleIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    .typing-indicator {
      display: flex;
      gap: 4px;
      padding: 12px;
    }
    
    .typing-dot {
      width: 8px;
      height: 8px;
      background: #9ca3af;
      border-radius: 50%;
      animation: typingDot 1.4s infinite;
    }
    
    .typing-dot:nth-child(2) {
      animation-delay: 0.2s;
    }
    
    .typing-dot:nth-child(3) {
      animation-delay: 0.4s;
    }
    
    @keyframes typingDot {
      0%, 60%, 100% {
        transform: translateY(0);
      }
      30% {
        transform: translateY(-10px);
      }
    }

    .quick-reply {
      transition: all 0.2s;
    }

    .quick-reply:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }

    .audio-button {
      transition: all 0.2s;
    }

    .audio-button:hover {
      transform: scale(1.1);
    }

    .audio-button.playing {
      animation: pulse 1s infinite;
    }

    @keyframes pulse {
      0%, 100% {
        opacity: 1;
      }
      50% {
        opacity: 0.5;
      }
    }

    .hint-bubble {
      animation: bounceIn 0.5s ease-out;
    }

    @keyframes bounceIn {
      0% {
        opacity: 0;
        transform: scale(0.3);
      }
      50% {
        transform: scale(1.05);
      }
      100% {
        opacity: 1;
        transform: scale(1);
      }
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // AI Pers√≥nur sem nemendur hitta
    const PEOPLE = [
      {
        id: 1,
        name: 'Mar√≠a',
        age: 28,
        from: 'Sp√°ni',
        liveIn: 'Reykjav√≠k',
        emoji: 'üë©‚Äçü¶∞',
        personality: 'H√∫n er mj√∂g vingjarnleg og spjallar miki√∞',
        interests: ['dans', 'b√≠√≥myndir', 'matur']
      },
      {
        id: 2,
        name: 'Kenji',
        age: 24,
        from: 'Japan',
        liveIn: 'K√≥pavogi',
        emoji: 'üë®',
        personality: 'Hann er r√≥legur og hugsar vel √°√∞ur en hann svarar',
        interests: ['t√∂lvuleikir', 'manga', 'g√∂ngufer√∞ir']
      },
      {
        id: 3,
        name: 'Amara',
        age: 31,
        from: 'N√≠ger√≠u',
        liveIn: 'Hafnarfir√∞i',
        emoji: 'üë©üèæ',
        personality: 'H√∫n er mj√∂g k√°t og spyr margra spurningar',
        interests: ['t√≥nlist', 'elda mat', 'fer√∞al√∂g']
      },
      {
        id: 4,
        name: 'Lars',
        age: 22,
        from: 'Danm√∂rku',
        liveIn: 'Brei√∞holti',
        emoji: 'üë®‚Äçü¶±',
        personality: 'Hann er mj√∂g vingjarnlegur og gr√≠nast oft',
        interests: ['f√≥tbolti', 'm√∫s√≠k', 't√≥nlist']
      },
      {
        id: 5,
        name: 'Sofia',
        age: 26,
        from: 'Brasil√≠u',
        liveIn: 'Reykjav√≠k',
        emoji: 'üë©üèΩ',
        personality: 'H√∫n er mj√∂g √°kve√∞in og talar hratt',
        interests: ['j√≥ga', 'n√°tt√∫ra', 'b√¶kur']
      }
    ];

    const SpeedDatingGame = () => {
      const [currentPerson, setCurrentPerson] = useState(0);
      const [conversation, setConversation] = useState([]);
      const [userInput, setUserInput] = useState('');
      const [isTyping, setIsTyping] = useState(false);
      const [gamePhase, setGamePhase] = useState('intro');
      const [score, setScore] = useState(0);
      const [questionsAsked, setQuestionsAsked] = useState(0);
      const [playingAudio, setPlayingAudio] = useState(null);
      const [showHint, setShowHint] = useState(false);
      const [lastAIMessageTime, setLastAIMessageTime] = useState(Date.now());
      const [conversationState, setConversationState] = useState({
        userSharedName: false,
        userSharedAge: false,
        userSharedFrom: false,
        userSharedLiveIn: false,
        aiAskedName: false,
        aiAskedAge: false,
        aiAskedFrom: false,
        aiAskedLiveIn: false
      });
      const chatEndRef = useRef(null);
      const hintTimerRef = useRef(null);

      const person = PEOPLE[currentPerson];

      useEffect(() => {
        chatEndRef.current?.scrollIntoView({ behavior: 'smooth' });
      }, [conversation]);

      // Hint timer - s√Ωna √°bendingu ef notandi er lengi a√∞ svara
      useEffect(() => {
        if (gamePhase === 'chatting' && !isTyping) {
          hintTimerRef.current = setTimeout(() => {
            // Athuga hvort AI hefur spurt allt
            const { aiAskedName, aiAskedAge, aiAskedFrom, aiAskedLiveIn } = conversationState;
            const aiAskedEverything = aiAskedName && aiAskedAge && aiAskedFrom && aiAskedLiveIn;
            
            if (aiAskedEverything && Date.now() - lastAIMessageTime > 8000) {
              setShowHint(true);
            }
          }, 8000);
        }

        return () => {
          if (hintTimerRef.current) {
            clearTimeout(hintTimerRef.current);
          }
        };
      }, [gamePhase, isTyping, conversationState, lastAIMessageTime]);

      const startChat = () => {
        setGamePhase('chatting');
        setShowHint(false);
        setConversationState({
          userSharedName: false,
          userSharedAge: false,
          userSharedFrom: false,
          userSharedLiveIn: false,
          aiAskedName: false,
          aiAskedAge: false,
          aiAskedFrom: false,
          aiAskedLiveIn: false
        });
        setTimeout(() => {
          addAIMessage(`H√¶! √âg heiti ${person.name}. Hva√∞ heitir √æ√∫?`);
          setConversationState(prev => ({ ...prev, aiAskedName: true }));
        }, 500);
      };

      const playAudio = async (text) => {
        setPlayingAudio(text);
        try {
          const response = await fetch('/.netlify/functions/speak', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ text_to_speak: text })
          });
          const data = await response.json();
          const audio = new Audio(`data:audio/mp3;base64,${data.audio_base64}`);
          audio.onended = () => setPlayingAudio(null);
          await audio.play();
        } catch (error) {
          console.error('Audio error:', error);
          setPlayingAudio(null);
        }
      };

      const addAIMessage = (message) => {
        setIsTyping(true);
        setTimeout(() => {
          setIsTyping(false);
          setConversation(prev => [...prev, { type: 'ai', text: message }]);
          setLastAIMessageTime(Date.now());
          setShowHint(false);
        }, 1000 + Math.random() * 1000);
      };

      const addUserMessage = (message) => {
        setConversation(prev => [...prev, { type: 'user', text: message }]);
        setUserInput('');
        setShowHint(false);
        analyzeAndRespond(message.toLowerCase());
      };

      const analyzeAndRespond = (userMessage) => {
        const responses = [];
        const newState = { ...conversationState };

        const isQuestion = userMessage.includes('hva√∞') || 
                          userMessage.includes('hva√∞an') || 
                          userMessage.includes('hvar') ||
                          userMessage.includes('?');

        if (isQuestion) {
          setQuestionsAsked(prev => prev + 1);
          setScore(prev => prev + 10);
        }

        // GREINA HVA√ê NOTANDI SAG√êI UM SIG
        if (userMessage.includes('heiti') && !userMessage.includes('hva√∞')) {
          newState.userSharedName = true;
        }
        if ((userMessage.includes('√°ra') || userMessage.includes('gamall') || userMessage.includes('g√∂mul')) && 
            (userMessage.includes('√©g er') || userMessage.match(/\d+/))) {
          newState.userSharedAge = true;
        }
        if (userMessage.includes('fr√°') && userMessage.includes('√©g')) {
          newState.userSharedFrom = true;
        }
        if (userMessage.includes('b√Ω') && (userMessage.includes('√©g') || userMessage.includes('√≠'))) {
          newState.userSharedLiveIn = true;
        }

        // GREINA SPURNINGAR FR√Å NOTANDA
        if (userMessage.includes('hva√∞') && userMessage.includes('heiti')) {
          responses.push(`√âg heiti ${person.name}.`);
          if (!newState.userSharedName) {
            responses.push('En √æ√∫, hva√∞ heitir √æ√∫?');
            newState.aiAskedName = true;
          }
        } 
        else if (userMessage.includes('g√∂mul') || userMessage.includes('gamall') || 
                (userMessage.includes('hva√∞') && userMessage.includes('√°ra'))) {
          responses.push(`√âg er ${person.age} √°ra.`);
          if (!newState.userSharedAge && !newState.aiAskedAge) {
            responses.push('Hva√∞ ert √æ√∫ gamall/g√∂mul?');
            newState.aiAskedAge = true;
          }
        }
        else if (userMessage.includes('hva√∞an') || (userMessage.includes('hva√∞') && userMessage.includes('fr√°'))) {
          responses.push(`√âg er fr√° ${person.from}.`);
          if (Math.random() > 0.4) {
            responses.push(`√âg kom til √çslands fyrir ${Math.floor(Math.random() * 5) + 1} √°rum.`);
          }
          if (!newState.userSharedFrom && !newState.aiAskedFrom) {
            responses.push('Hva√∞an ert √æ√∫?');
            newState.aiAskedFrom = true;
          }
        }
        else if (userMessage.includes('hvar') && (userMessage.includes('b√Ω') || userMessage.includes('b√Ωr'))) {
          responses.push(`√âg b√Ω √≠ ${person.liveIn}.`);
          if (!newState.userSharedLiveIn && !newState.aiAskedLiveIn) {
            responses.push('Hvar b√Ωr√∞ √æ√∫?');
            newState.aiAskedLiveIn = true;
          }
        }
        else if (userMessage.includes('gaman') || userMessage.includes('√°hugam√°l')) {
          const interest = person.interests[Math.floor(Math.random() * person.interests.length)];
          responses.push(`M√©r finnst gaman a√∞ ${interest}.`);
          if (Math.random() > 0.5) responses.push('Hva√∞ finnst √æ√©r gaman a√∞ gera?');
        }
        else if (userMessage.includes('vinur') || userMessage.includes('vinkona')) {
          responses.push(`J√°, √©g √° marga vini h√©r √° √çslandi!`);
        }
        else if (userMessage.includes('sk√≥li') || userMessage.includes('vinna')) {
          responses.push(`√âg er √≠ sk√≥la. √âg l√¶ri √≠slensku!`);
        }
        else if (userMessage.includes('bless') || userMessage.includes('sj√°umst') || userMessage.includes('b√¶')) {
          responses.push(`√ûa√∞ var gaman a√∞ hitta √æig! Sj√°umst!`);
          setTimeout(() => {
            nextPerson();
          }, 2000);
        }
        else if (userMessage.startsWith('√©g er') || userMessage.startsWith('√©g heiti') || userMessage.startsWith('√©g b√Ω')) {
          const encouragements = [
            'Gaman a√∞ kynnast √æ√©r!',
            'Skemmtilegt!',
            'Fr√°b√¶rt!',
            'J√°, mj√∂g gaman!'
          ];
          responses.push(encouragements[Math.floor(Math.random() * encouragements.length)]);
          
          const possibleQuestions = [];
          if (!newState.aiAskedAge && !newState.userSharedAge) {
            possibleQuestions.push('Hva√∞ ert √æ√∫ gamall/g√∂mul?');
          }
          if (!newState.aiAskedFrom && !newState.userSharedFrom) {
            possibleQuestions.push('Hva√∞an ert √æ√∫?');
          }
          if (!newState.aiAskedLiveIn && !newState.userSharedLiveIn) {
            possibleQuestions.push('Hvar b√Ωr√∞ √æ√∫?');
          }
          if (possibleQuestions.length === 0) {
            possibleQuestions.push('Hva√∞ finnst √æ√©r gaman?');
            possibleQuestions.push('√Ått √æ√∫ marga vini?');
          }
          
          const nextQ = possibleQuestions[Math.floor(Math.random() * possibleQuestions.length)];
          responses.push(nextQ);
          
          if (nextQ.includes('gamall') || nextQ.includes('g√∂mul')) newState.aiAskedAge = true;
          if (nextQ.includes('Hva√∞an')) newState.aiAskedFrom = true;
          if (nextQ.includes('Hvar')) newState.aiAskedLiveIn = true;
        }
        else {
          responses.push('J√°, einmitt!');
          
          if (Math.random() > 0.5) {
            const possibleQuestions = [];
            if (!newState.aiAskedAge && !newState.userSharedAge) {
              possibleQuestions.push('Hva√∞ ert √æ√∫ gamall/g√∂mul?');
            }
            if (!newState.aiAskedFrom && !newState.userSharedFrom) {
              possibleQuestions.push('Hva√∞an ert √æ√∫?');
            }
            if (!newState.aiAskedLiveIn && !newState.userSharedLiveIn) {
              possibleQuestions.push('Hvar b√Ωr√∞ √æ√∫?');
            }
            if (possibleQuestions.length > 0) {
              const nextQ = possibleQuestions[Math.floor(Math.random() * possibleQuestions.length)];
              responses.push(nextQ);
              
              if (nextQ.includes('gamall') || nextQ.includes('g√∂mul')) newState.aiAskedAge = true;
              if (nextQ.includes('Hva√∞an')) newState.aiAskedFrom = true;
              if (nextQ.includes('Hvar')) newState.aiAskedLiveIn = true;
            }
          }
        }

        setConversationState(newState);

        responses.forEach((response, index) => {
          setTimeout(() => {
            addAIMessage(response);
          }, (index + 1) * 1500);
        });
      };

      const nextPerson = () => {
        if (currentPerson < PEOPLE.length - 1) {
          setCurrentPerson(currentPerson + 1);
          setConversation([]);
          setQuestionsAsked(0);
          setShowHint(false);
          setGamePhase('intro');
        } else {
          setGamePhase('finished');
        }
      };

      const resetGame = () => {
        setCurrentPerson(0);
        setConversation([]);
        setScore(0);
        setQuestionsAsked(0);
        setShowHint(false);
        setGamePhase('intro');
      };

      const answerTemplates = [
        '√âg heiti [nafn]',
        '√âg er [aldur] √°ra',
        '√âg er fr√° [land]',
        '√âg b√Ω √≠ [sta√∞ur]'
      ];

      const questionTemplates = [
        'Hva√∞ heitir √æ√∫?',
        'Hva√∞ ert √æ√∫ gamall/g√∂mul?',
        'Hva√∞an ert √æ√∫?',
        'Hvar b√Ωr√∞ √æ√∫?',
        'Hva√∞ finnst √æ√©r gaman?',
        'Bless! Sj√°umst!'
      ];

      // Intro skj√°r
      if (gamePhase === 'intro') {
        return (
          <div className="min-h-screen pb-12">
            <header className="bg-white shadow-sm border-b border-gray-200">
              <div className="max-w-4xl mx-auto px-6 py-8">
                <button 
                  onClick={() => window.history.back()} 
                  className="text-sm text-gray-500 hover:text-gray-700 mb-2 inline-block font-light"
                >
                  ‚Üê Til baka
                </button>
                <h1 className="text-3xl font-light text-gray-800 mb-2">üí¨ Speed Dating - Kynning</h1>
                <p className="text-gray-500 text-sm font-light">Kafli 1 - Komdu s√¶ll og blessa√∞ur ¬∑ A1</p>
              </div>
            </header>

            <main className="max-w-4xl mx-auto px-6 mt-8">
              
              <div className="bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-6">
                <h2 className="text-xl font-normal text-gray-800 mb-3">üìù Hva√∞ er √æetta?</h2>
                <ul className="space-y-2 text-gray-700 font-light mb-4">
                  <li>‚Ä¢ √û√∫ munt hitta {PEOPLE.length} manneskjur</li>
                  <li>‚Ä¢ √û√∫ √°tt 2-3 m√≠n√∫tur me√∞ hverri manneskju</li>
                  <li>‚Ä¢ Spjalla saman √° √≠slensku!</li>
                  <li>‚Ä¢ Spur√∞u spurningar: Hva√∞ heitir √æ√∫? Hva√∞an ert √æ√∫? Hvar b√Ωr√∞ √æ√∫?</li>
                  <li>‚Ä¢ Seg√∞u fr√° √æ√©r l√≠ka!</li>
                  <li>‚Ä¢ üîä √û√∫ getur hlusta√∞ √° hva√∞ √æeir segja!</li>
                </ul>
                <div className="bg-yellow-50 border border-yellow-200 rounded p-3">
                  <p className="text-sm text-yellow-800 font-light">
                    üí° <strong>√Åbending:</strong> √ûv√≠ fleiri spurningar sem √æ√∫ spyr√∞, √æv√≠ fleiri stig f√¶r√∞u!
                  </p>
                </div>
              </div>

              <div className="bg-white rounded-lg shadow-sm p-4 mb-6">
                <div className="flex justify-between items-center">
                  <span className="text-gray-600 font-light">
                    Manneskja {currentPerson + 1} af {PEOPLE.length}
                  </span>
                  <span className="text-gray-600 font-light">
                    Stig: <span className="font-normal text-pink-600">{score}</span>
                  </span>
                </div>
                <div className="w-full bg-gray-200 rounded-full h-2 mt-3">
                  <div 
                    className="bg-pink-600 h-2 rounded-full transition-all duration-500"
                    style={{ width: `${((currentPerson + 1) / PEOPLE.length) * 100}%` }}
                  ></div>
                </div>
              </div>

              <div className="person-card bg-white rounded-lg shadow-xl p-8 text-center">
                <div className="text-8xl mb-6">{person.emoji}</div>
                <h2 className="text-3xl font-normal text-gray-800 mb-2">{person.name}</h2>
                <p className="text-gray-600 font-light mb-6">{person.age} √°ra ¬∑ {person.from}</p>
                <div className="bg-gray-50 rounded-lg p-4 mb-6">
                  <p className="text-gray-700 font-light italic">"{person.personality}"</p>
                </div>
                <button
                  onClick={startChat}
                  className="bg-pink-600 text-white px-8 py-4 rounded-lg text-xl font-normal hover:bg-pink-700 transition-colors"
                >
                  üé§ Byrja a√∞ spjalla
                </button>
              </div>

            </main>
          </div>
        );
      }

      if (gamePhase === 'finished') {
        return (
          <div className="min-h-screen pb-12">
            <header className="bg-white shadow-sm border-b border-gray-200">
              <div className="max-w-4xl mx-auto px-6 py-8">
                <h1 className="text-3xl font-light text-gray-800 mb-2">üí¨ Speed Dating - Kynning</h1>
                <p className="text-gray-500 text-sm font-light">Kafli 1 - Komdu s√¶ll og blessa√∞ur ¬∑ A1</p>
              </div>
            </header>

            <main className="max-w-4xl mx-auto px-6 mt-8">
              <div className="bg-white rounded-lg shadow-xl p-12 text-center">
                <div className="text-6xl mb-6">üéâ</div>
                <h2 className="text-3xl font-light text-gray-800 mb-4">
                  √û√∫ kl√°ra√∞ir!
                </h2>
                <p className="text-xl text-gray-600 font-light mb-8">
                  √û√∫ hittir {PEOPLE.length} manneskjur og √¶ftir √≠slensku kynningaspjall!
                </p>
                <div className="text-5xl font-bold text-pink-600 mb-8">
                  {score} stig
                </div>
                <button
                  onClick={resetGame}
                  className="bg-pink-600 text-white px-8 py-4 rounded-lg text-lg font-normal hover:bg-pink-700 transition-colors"
                >
                  üîÑ Spila aftur
                </button>
              </div>
            </main>
          </div>
        );
      }

      // Chat skj√°r
      return (
        <div className="min-h-screen pb-12">
          <header className="bg-white shadow-sm border-b border-gray-200">
            <div className="max-w-4xl mx-auto px-6 py-4">
              <div className="flex items-center justify-between">
                <div className="flex items-center gap-4">
                  <div className="text-4xl">{person.emoji}</div>
                  <div>
                    <h2 className="text-xl font-normal text-gray-800">{person.name}</h2>
                    <p className="text-sm text-gray-500 font-light">{person.age} √°ra ¬∑ {person.from}</p>
                  </div>
                </div>
                <div className="text-right">
                  <div className="text-sm text-gray-500 font-light">Stig</div>
                  <div className="text-2xl font-bold text-pink-600">{score}</div>
                </div>
              </div>
            </div>
          </header>

          <main className="max-w-4xl mx-auto px-6 mt-4">
            
            {/* Chat area */}
            <div className="bg-white rounded-lg shadow-xl mb-4" style={{ height: '450px', overflow: 'auto' }}>
              <div className="p-6 space-y-4">
                {conversation.map((msg, index) => (
                  <div
                    key={index}
                    className={`chat-bubble flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`}
                  >
                    <div className="flex items-start gap-2">
                      {msg.type === 'ai' && (
                        <button
                          onClick={() => playAudio(msg.text)}
                          disabled={playingAudio === msg.text}
                          className={`audio-button mt-1 text-2xl ${playingAudio === msg.text ? 'playing' : ''}`}
                          title="Hlusta"
                        >
                          üîä
                        </button>
                      )}
                      <div
                        className={`max-w-xs md:max-w-md px-4 py-3 rounded-2xl ${
                          msg.type === 'user'
                            ? 'bg-pink-600 text-white'
                            : 'bg-gray-100 text-gray-800'
                        }`}
                      >
                        <p className="font-light">{msg.text}</p>
                      </div>
                    </div>
                  </div>
                ))}
                
                {isTyping && (
                  <div className="flex justify-start">
                    <div className="bg-gray-100 rounded-2xl">
                      <div className="typing-indicator">
                        <div className="typing-dot"></div>
                        <div className="typing-dot"></div>
                        <div className="typing-dot"></div>
                      </div>
                    </div>
                  </div>
                )}

                {/* Hint bubble */}
                {showHint && !isTyping && (
                  <div className="hint-bubble flex justify-center">
                    <div className="bg-yellow-50 border-2 border-yellow-300 rounded-2xl px-4 py-3 max-w-md">
                      <p className="text-yellow-800 font-light text-center">
                        üí° Viltu ekki spyrja mig eitthva√∞? Nota√∞u spurningahnappana h√©r fyrir ne√∞an! ‚Üí
                      </p>
                    </div>
                  </div>
                )}
                
                <div ref={chatEndRef} />
              </div>
            </div>

            {/* Quick replies - SPLIT INTO TWO COLUMNS */}
            <div className="bg-white rounded-lg shadow-sm p-4 mb-4">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                
                {/* Sv√∂r (til vinstri) */}
                <div>
                  <p className="text-sm text-blue-600 font-normal mb-3">üí¨ Sv√∂r (seg√∞u fr√° √æ√©r):</p>
                  <div className="flex flex-wrap gap-2">
                    {answerTemplates.map((reply, index) => (
                      <button
                        key={index}
                        onClick={() => setUserInput(reply)}
                        className="quick-reply bg-blue-50 hover:bg-blue-100 text-blue-700 px-3 py-2 rounded-lg text-sm font-light border border-blue-200"
                      >
                        {reply}
                      </button>
                    ))}
                  </div>
                </div>

                {/* Spurningar (til h√¶gri) */}
                <div>
                  <p className="text-sm text-pink-600 font-normal mb-3">‚ùì Spurningar (spur√∞u √æ√°):</p>
                  <div className="flex flex-wrap gap-2">
                    {questionTemplates.map((reply, index) => (
                      <button
                        key={index}
                        onClick={() => setUserInput(reply)}
                        className="quick-reply bg-pink-50 hover:bg-pink-100 text-pink-700 px-3 py-2 rounded-lg text-sm font-light border border-pink-200"
                      >
                        {reply}
                      </button>
                    ))}
                  </div>
                </div>

              </div>
            </div>

            {/* Input */}
            <div className="bg-white rounded-lg shadow-xl p-4">
              <div className="flex gap-3">
                <input
                  type="text"
                  value={userInput}
                  onChange={(e) => setUserInput(e.target.value)}
                  onKeyPress={(e) => {
                    if (e.key === 'Enter' && userInput.trim()) {
                      addUserMessage(userInput);
                    }
                  }}
                  placeholder="Skrifa√∞u skilabo√∞..."
                  className="flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-pink-500 font-light"
                  disabled={isTyping}
                />
                <button
                  onClick={() => {
                    if (userInput.trim()) {
                      addUserMessage(userInput);
                    }
                  }}
                  disabled={!userInput.trim() || isTyping}
                  className="bg-pink-600 text-white px-6 py-3 rounded-lg font-normal hover:bg-pink-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed"
                >
                  üì§
                </button>
              </div>
              <p className="text-xs text-gray-500 font-light mt-2">
                ‚å®Ô∏è √ùttu √° Enter til a√∞ senda
              </p>
            </div>

            {/* Skip button */}
            <div className="text-center mt-4">
              <button
                onClick={nextPerson}
                className="text-gray-500 hover:text-gray-700 text-sm font-light"
              >
                ‚è≠Ô∏è N√¶sta manneskja
              </button>
            </div>

          </main>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<SpeedDatingGame />);
  </script>
</body>
</html>
