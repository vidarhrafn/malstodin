<!doctype html>
<html lang="is">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Andheiti â€“ Ã¦fing</title>

    <!-- React (UMD) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <!-- Babel til aÃ° lesa JSX Ã­ vafranum -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#f6f6f6; margin:0; }
      .card { max-width:520px; margin:40px auto; background:#fff; border-radius:18px; padding:20px; box-shadow:0 10px 30px rgba(0,0,0,.08); }
      input { width:100%; padding:10px 12px; border:1px solid #ddd; border-radius:10px; font-size:16px; }
      button { width:100%; padding:10px 12px; border:0; border-radius:10px; font-size:16px; cursor:pointer; }
      .btn { background:#2563eb; color:white; margin-top:10px; }
      .btn2 { background:#16a34a; color:white; margin-top:10px; }
      .word { font-size:40px; font-weight:800; text-align:center; margin:18px 0; }
      .muted { text-align:center; color:#555; margin-top:12px; }
      .feedback { text-align:center; margin-top:10px; font-weight:600; }
      h2 { margin:0 0 10px 0; text-align:center; }
    </style>
  </head>

  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      const wordPairs = [
        { word: "ungur", answers: ["gamall"] },
        { word: "sÃºr", answers: ["sÃ¦tur"] },
        { word: "kaldur", answers: ["heitur"] },
        { word: "saddur", answers: ["svangur"] },
        { word: "dimmur", answers: ["bjartur"] },
        { word: "gÃ³Ã°ur", answers: ["vondur"] },
        { word: "hreinn", answers: ["Ã³hreinn", "skÃ­tugur"] },
        { word: "feitur", answers: ["mjÃ³r", "grannur"] },
        { word: "stÃ³r", answers: ["lÃ­till"] },
        { word: "svartur", answers: ["hvÃ­tur"] },
        { word: "glaÃ°ur", answers: ["leiÃ°ur"] },
        { word: "stuttur", answers: ["langur"] },
        { word: "heilbrigÃ°ur", answers: ["veikur"] },
        { word: "duglegur", answers: ["latur"] },
        { word: "flottur", answers: ["ljÃ³tur"] },
      ];

      function AndheitiAefing() {
        const [index, setIndex] = useState(0);
        const [input, setInput] = useState("");
        const [feedback, setFeedback] = useState("");
        const [score, setScore] = useState(0);

        const current = wordPairs[index];

        const checkAnswer = () => {
          const cleanInput = input.trim().toLowerCase();
          const correct = current.answers.includes(cleanInput);

          if (correct) {
            setFeedback("âœ… RÃ©tt!");
            setScore((s) => s + 1);
          } else {
            setFeedback("âŒ Reyndu aftur.");
          }
        };

        const nextWord = () => {
          setInput("");
          setFeedback("");
          setIndex((i) => i + 1);
        };

        const onKeyDown = (e) => {
          if (e.key === "Enter") checkAnswer();
        };

        if (index >= wordPairs.length) {
          return (
            <div className="card">
              <h2>ðŸŽ‰ Vel gert!</h2>
              <p className="muted">ÃžÃº fÃ©kkst {score} af {wordPairs.length} rÃ©tt.</p>
              <button className="btn" onClick={() => { setIndex(0); setScore(0); setInput(""); setFeedback(""); }}>
                Byrja aftur
              </button>
            </div>
          );
        }

        return (
          <div className="card">
            <h2>SkrifaÃ°u andheiti:</h2>
            <div className="word">{current.word}</div>

            <input
              value={input}
              onChange={(e) => setInput(e.target.value)}
              onKeyDown={onKeyDown}
              placeholder="SkrifaÃ°u svarâ€¦"
              autoFocus
            />

            <button className="btn" onClick={checkAnswer}>Athuga</button>

            {feedback && <div className="feedback">{feedback}</div>}

            {feedback === "âœ… RÃ©tt!" && (
              <button className="btn2" onClick={nextWord}>NÃ¦sta orÃ°</button>
            )}

            <div className="muted">Stig: {score}</div>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<AndheitiAefing />);
    </script>
  </body>
</html>
